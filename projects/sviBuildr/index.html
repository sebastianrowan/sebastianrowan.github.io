<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-7WMWDFZG84"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7WMWDFZG84");</script> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> sviBuildr | Sebastian Rowan </title> <meta name="author" content="Sebastian Rowan"> <meta name="description" content="Downloads the Social Vulnerability Index for use in R"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/line_spiral.svg?251b026dd5f899f5de5c06a98ff3f539"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://sebastianrowan.github.io/projects/sviBuildr/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?bf50d6d9dd867d3e0f3b0add94449649"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Sebastian Rowan </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">more </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/blog/">blog</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/books/">bookshelf</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/repositories/">repositories</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/teaching/">teaching</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">sviBuildr</h1> <p class="post-description">Downloads the Social Vulnerability Index for use in R</p> </header> <article> <p><a href="https://github.com/sebastianrowan/svibuildr" rel="external nofollow noopener" target="_blank"><img src="https://raw.githubusercontent.com/sebastianrowan/svibuildr/86f4c909318408a4c26867a2e7477c5c518c199c/man/figures/lifecycle-experimental.svg" alt="lifecycle"></a> <a href="https://github.com/sebastianrowan/svibuildr/actions/workflows/R-CMD-check.yaml" rel="external nofollow noopener" target="_blank"><img src="https://github.com/sebastianrowan/svibuildr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <a href="https://github.com/sebastianrowan/svibuildr/actions/workflows/pkgdown.yaml" rel="external nofollow noopener" target="_blank"><img src="https://github.com/sebastianrowan/svibuildr/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a> <a href="https://app.codecov.io/gh/sebastianrowan/svibuildr?branch=master" rel="external nofollow noopener" target="_blank"><img src="https://codecov.io/gh/sebastianrowan/svibuildr/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></p> <p><code class="language-plaintext highlighter-rouge">svibuildr</code> is an R package that allows users to download or construct Social Vulnerability Index datasets as tidyverse dataframes or as simple features dataframes for spatial analyses. Users can choose to download precompiled datasets from the <a href="https://www.atsdr.cdc.gov/placeandhealth/svi/data_documentation_download.html" rel="external nofollow noopener" target="_blank">CDC</a> or compile the SVI with data from the US Census Bureau’s American Community Survey.</p> <p>Pre-compiled SVI data is only available for individual states or as a single SVI for the entire nation. Downloading raw Census data and compiling the SVI with <code class="language-plaintext highlighter-rouge">svibuildr</code> allows users to construct an SVI for any study area in the US. For example, one could calculate the SVI for a study area consisting of three states in which SVI scores are calculated by comparing values across counties in just the three states rather than across all 50 states:</p> <div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">svibuildr</span><span class="p">)</span><span class="w">

</span><span class="n">tri_state_svi</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">calculate_svi</span><span class="p">(</span><span class="w">
    </span><span class="n">geography</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"county"</span><span class="p">,</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2020</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"ME"</span><span class="p">,</span><span class="w"> </span><span class="s2">"NH"</span><span class="p">,</span><span class="w"> </span><span class="s2">"VT"</span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w">
</span></code></pre></div></div> <p>Currently, calculating the SVI is only available for the year 2020 using the updated method published by the CDC/ATSDR [1].</p> <p>This package utilizes the <a href="https://github.com/walkerke/tidycensus/blob/master/README.md" rel="external nofollow noopener" target="_blank">tidycensus</a> package to interface with the US Census Bureau API and download the data for compiling the SVI [2].</p> <p>Note: This package is not endorsed or developed by the CDC/ATSDR nor has it undergone peer-review. For official documentation, publications, and other information, please visit the official Social Vulnerability Index web page at https://www.atsdr.cdc.gov/placeandhealth/svi/index.html.</p> <h2 id="installation">Installation</h2> <p><code class="language-plaintext highlighter-rouge">svibuildr</code> can be installed from this repositority using:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>```r
install.packages('devtools')
devtools::install_github('sebastianrowan/svibuildr')
```
</code></pre></div></div> <h2 id="validation">Validation</h2> <p>Using <code class="language-plaintext highlighter-rouge">svibuildr</code> to generate the Social Vulnerability Index for a single state reveals that there are slight discrepencies between the index scores calculated in R and the values provided when downloading the data directly from the CDC website. I believe these discrepancies are due to differences in how rounding is handled in R versus Excel which appears to be the tool used by CDC to generate the datasets on their website.</p> <p>I have manually compared rankings across all four themes as well as the overall SVI ranking at the tract and county level for a handful of states, and it appears that this issue only affects rankings at the tract scale. When tract rankings are affected, the differences are very small. Certain tracts may move up or down by one position in their statewide rank, but I have observed no differences that I feel would be detrimental to an analysis using this data at the tract scale. Furthermore, I have not observed any differences between the CDC data and the calculated data in variable values which comprise the ranking variables.</p> <p>The figures below show histograms of tract level comparisons of the SVI scores calculated by <code class="language-plaintext highlighter-rouge">svibuildr</code> and the values in the datasets downloaded from the CDC.</p> <p><img src="https://raw.githubusercontent.com/sebastianrowan/svibuildr/master/man/img/cdc_compare_hist_06_tract.png" alt="California"></p> <p><img src="https://raw.githubusercontent.com/sebastianrowan/svibuildr/master/man/img/cdc_compare_hist_36_tract.png" alt="New York"></p> <p><img src="https://raw.githubusercontent.com/sebastianrowan/svibuildr/master/man/img/cdc_compare_hist_48_tract.png" alt="Texas"></p> <p><img src="https://raw.githubusercontent.com/sebastianrowan/svibuildr/master/man/img/cdc_compare_hist_12_tract.png" alt="Florida"></p> <h2 id="references">References</h2> <div id="refs" class="references csl-bib-body"> <div id="ref-cdc-atsdr_cdcatsdr_2022" class="csl-entry"> <span class="csl-left-margin">\[1\] </span><span class="csl-right-inline">CDC-ATSDR, “CDC/ATSDR SVI 2020 documentation.” 2022. Available: &lt;https://www.atsdr.cdc.gov/placeandhealth/svi/documentation/SVI_documentation_2020.html&gt;</span> </div> <div id="ref-walker_tidycensus_2022" class="csl-entry"> <span class="csl-left-margin">\[2\] </span><span class="csl-right-inline">K. Walker and M. Herman, _Tidycensus: Load US census boundary and attribute data as ’tidyverse’ and ’sf’-ready data frames_. 2022. Available: &lt;https://CRAN.R-project.org/package=tidycensus&gt;</span> </div> </div> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Sebastian Rowan. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?8664456308d8a0b76907c75d01dd1dbf" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-7WMWDFZG84"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7WMWDFZG84");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>